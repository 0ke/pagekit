/*! UIkit 2.6.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */

!function(a){var b;jQuery&&jQuery.UIkit&&(b=a(jQuery,jQuery.UIkit)),"function"==typeof define&&define.amd&&define("uikit-sortable",["uikit"],function(){return b||a(jQuery,jQuery.UIkit)})}(function(a,b){"use strict";function c(b,c){var e=a(b).parent(),f=d(b,c)?c:c.nextSibling,g=e.children(),h=g.length;e.css("min-height","").css("min-height",e.height()),g.stop().each(function(){var b=a(this),c=b.position();b.data("offset-before",c)}),c.parentNode.insertBefore(b,f),g=e.children().each(function(){var b=a(this),c=(b.data("offset-before"),b.position());b.data("offset-after",c)}).each(function(){var b=a(this),c=b.data("offset-before");b.css({position:"absolute",top:c.top,left:c.left})}),g.each(function(){var b=a(this),c=(b.data("offset-before"),b.data("offset-after"));b.css("pointer-events","none"),b.animate({top:c.top,left:c.left},100,function(){b.css({position:"",top:"",left:"","pointer-events":""}),h--,h||e.css("min-height","")})})}function d(a,b){var c=a.parentNode;if(b.parentNode!=c)return!1;for(var d=a.previousSibling;d&&9!==d.nodeType;){if(d===b)return!0;d=d.previousSibling}return!1}function e(a,b){var c=b;if(c==a)return null;for(;c;){if(c.parentNode===a)return c;if(c=c.parentNode,!c||!c.ownerDocument||11===c.nodeType)break}return null}function f(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function g(a,b){return 1==arguments.length?parseInt(a.getAttribute("data-child-dragenter"),10)||0:void(b?a.setAttribute("data-child-dragenter",Math.max(0,b)):a.removeAttribute("data-child-dragenter"))}var h="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,i=!h&&function(){var a=document.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a}(),j="uk-sortable-child",k="uk-sortable-dragging",l="uk-sortable-over";return b.component("sortable",{defaults:{warp:!1,stop:function(){},start:function(){},change:function(){}},init:function(){function b(b){return function(c){var d=h&&c.touches&&c.touches[0]||{},f=d.target||c.target;if(h&&document.elementFromPoint&&(f=document.elementFromPoint(c.pageX-document.body.scrollLeft,c.pageY-document.body.scrollTop)),a(f).hasClass(j))b.apply(f,[c]);else if(f!==o){var g=e(o,f);g&&b.apply(g,[c])}}}function d(){i||(h?o.addEventListener("touchmove",z,!1):(o.addEventListener("mouseover",v,!1),o.addEventListener("mouseout",w,!1)),o.addEventListener(h?"touchend":"mouseup",x,!1),document.addEventListener(h?"touchend":"mouseup",y,!1),document.addEventListener("selectstart",f,!1))}function m(){i||(h?o.removeEventListener("touchmove",z,!1):(o.removeEventListener("mouseover",v,!1),o.removeEventListener("mouseout",w,!1)),o.removeEventListener(h?"touchend":"mouseup",x,!1),document.removeEventListener(h?"touchend":"mouseup",y,!1),document.removeEventListener("selectstart",f,!1))}var n,o=(this.options,this.element[0]),p=this,q=!!this.options.warp,r=null,s=null;this.element.children("li").attr("draggable","true");var t=b(function(b){h&&f(b),b.dataTransfer&&(b.dataTransfer.effectAllowed="moving",b.dataTransfer.setData("Text","*")),r=this,a(this).addClass(k),n=p.element.children("li").addClass(j),d(),p.options.start(this,r)}),u=b(function(a){return r?(a.preventDefault&&a.preventDefault(),!1):!0}),v=b(a.UIkit.Utils.debounce(function(){if(!r||r===this)return!0;var b=g(this);return g(this,b+1),0===b&&(a(this).addClass(l),q||c(r,this)),!1}),40),w=b(function(){var b=g(this);g(this,b-1),g(this)||(a(this).removeClass(l),g(this,!1))}),x=b(function(a){if("drop"===a.type&&(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()),this!==r){if(q){var b=r.nextSibling;this.parentNode.insertBefore(r,this),this.parentNode.insertBefore(this,b)}p.options.change(this,r)}}),y=function(){r=null,s=null,[].forEach.call(o.childNodes,function(b){1===b.nodeType&&(a(b).removeClass(l).removeClass(k).removeClass(j),g(b,!1))}),m(),p.options.stop(this)},z=b(function(b){return r&&r!==this&&s!==this?(n.removeClass(l),s=this,q?a(this).addClass(l):c(r,this),f(b)):!0});i?(o.addEventListener("dragstart",t,!1),o.addEventListener("dragenter",v,!1),o.addEventListener("dragleave",w,!1),o.addEventListener("drop",x,!1),o.addEventListener("dragover",u,!1),o.addEventListener("dragend",y,!1)):h?o.addEventListener("touchstart",t,!1):o.addEventListener("mousedown",t,!1)}}),a(document).on("uk-domready",function(){a("[data-uk-sortable]").each(function(){var c=a(this);if(!c.data("sortable")){b.sortable(c,b.Utils.options(c.attr("data-uk-sortable")))}})}),b.sortable});