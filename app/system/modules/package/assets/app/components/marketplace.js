!function t(a,e,n){function s(r,l){if(!e[r]){if(!a[r]){var o="function"==typeof require&&require;if(!l&&o)return o(r,!0);if(i)return i(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var p=e[r]={exports:{}};a[r][0].call(p.exports,function(t){var e=a[r][1][t];return s(e?e:t)},p,p.exports,t,a,e,n)}return e[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,a,e){var n='<div data-uk-observe="">\n\n       <ul class="uk-grid uk-grid-width-small-1-2 uk-grid-width-xlarge-1-3" data-uk-grid-margin="" data-uk-grid-match="{target:\'.uk-panel\'}">\n            <li v-repeat="pkg: packages">\n                <a class="uk-panel uk-panel-box pk-marketplace-panel uk-overlay-hover">\n                    <div class="uk-panel-teaser">\n                        <img width="800" height="600" alt="{{ pkg.title }}" v-attr="src: pkg.extra.teaser">\n                    </div>\n                    <h2 class="uk-panel-title uk-margin-remove">{{ pkg.title }}</h2>\n                    <p class="uk-margin-remove uk-text-small uk-text-muted">{{ pkg.author.name }}</p>\n                    <div class="uk-overlay-panel uk-overlay-background uk-flex uk-flex-center uk-flex-middle">\n                        <div>\n                            <button class="uk-button uk-button-primary uk-button-large" v-on="click: details(pkg)">{{ \'Details\' | trans }}</button>\n                        </div>\n                    </div>\n                </a>\n            </li>\n        </ul>\n\n        <v-pagination v-with="page: page, pages: pages" v-show="pages > 1"></v-pagination>\n\n        <div class="uk-modal" v-el="modal">\n            <div class="uk-modal-dialog uk-modal-dialog-large pk-marketplace-modal-dialog">\n\n                <div class="pk-marketplace-modal-action">\n                    <button class="uk-button" disabled="disabled" v-show="isInstalled(pkg)">{{ \'Installed\' | trans }}</button>\n                    <button class="uk-button uk-button-primary" v-on="click: install(pkg)" v-show="!isInstalled(pkg)">\n                        {{ \'Install\' | trans }} <i class="uk-icon-spinner uk-icon-spin" v-show="status == \'installing\'"></i>\n                    </button>\n                </div>\n\n                <iframe class="uk-width-1-1 uk-height-1-1" v-attr="src: iframe"></iframe>\n\n            </div>\n        </div>\n\n        <p class="uk-alert uk-alert-info" v-show="!packages.length">{{ \'No extensions found.\' | trans }}</p>\n        <p class="uk-alert uk-alert-warning" v-show="status == \'error\'">{{ \'Cannot connect to the marketplace. Please try again later.\' | trans }}</p>\n\n    </div>',s=jQuery,i=Vue.util,r=n;a.exports={replace:!0,template:r,data:function(){return{api:{},search:"",type:"extension",pkg:null,packages:null,installed:[],page:0,pages:0,iframe:"",status:""}},ready:function(){this.query()},watch:{search:function(){this.query()},page:function(){this.query(this.page)}},methods:{query:function(t){var a=this,e=this.api.url+"/package/search";s.post(e,{q:this.search,type:this.type,page:t||0},function(t){a.$set("packages",t.packages),a.$set("pages",t.pages)},"jsonp").fail(function(){a.$set("packages",null),a.$set("status","error")})},details:function(t){this.modal||(this.modal=UIkit.modal(this.$$.modal)),this.$set("iframe",this.api.url.replace(/\/api$/,"")+"/marketplace/frame/"+t.name),this.$set("pkg",t),this.modal.show()},install:function(t){var a=this,e=this.$url("admin/system/package/install");a.$set("status","installing"),s.post(e,{"package":JSON.stringify(t.version)},function(e){e.message?a.installed.push(t):UIkit.notify(e.error,"danger"),a.$set("status","")})},isInstalled:function(t){return i.isObject(t)?i.findBy(this.installed,"name",t.name):void 0}}},Vue.component("v-marketplace",a.exports),("function"==typeof a.exports?a.exports.options:a.exports).template=n},{}]},{},[1]);